<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Left Join, Right Join, Self Join | Java Interview Questions</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Left Join, Right Join, Self Join" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is a basic introduction to all types of joins. It’s easier to understand with some real data and for this I prepared some tables with data in them. I’ve used the statements below in a POSTGRES database." />
<meta property="og:description" content="This is a basic introduction to all types of joins. It’s easier to understand with some real data and for this I prepared some tables with data in them. I’ve used the statements below in a POSTGRES database." />
<link rel="canonical" href="/sql/basic/2024/07/30/left-join-right-join-self-join.html" />
<meta property="og:url" content="/sql/basic/2024/07/30/left-join-right-join-self-join.html" />
<meta property="og:site_name" content="Java Interview Questions" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-30T02:20:30+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Left Join, Right Join, Self Join" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-30T02:20:30+00:00","datePublished":"2024-07-30T02:20:30+00:00","description":"This is a basic introduction to all types of joins. It’s easier to understand with some real data and for this I prepared some tables with data in them. I’ve used the statements below in a POSTGRES database.","headline":"Left Join, Right Join, Self Join","mainEntityOfPage":{"@type":"WebPage","@id":"/sql/basic/2024/07/30/left-join-right-join-self-join.html"},"url":"/sql/basic/2024/07/30/left-join-right-join-self-join.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Java Interview Questions" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Java Interview Questions</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Left Join, Right Join, Self Join</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-07-30T02:20:30+00:00" itemprop="datePublished">Jul 30, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>This is a basic introduction to all types of joins. It’s easier to understand with some real data and for this I prepared some tables with data in them.
I’ve used the statements below in a <code class="language-plaintext highlighter-rouge">POSTGRES</code> database.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">departments</span> <span class="p">(</span>
    <span class="n">department_id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">department_name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">employees</span> <span class="p">(</span>
    <span class="n">employee_id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">manager_id</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">employee_name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">department_id</span> <span class="nb">INT</span> <span class="k">REFERENCES</span> <span class="n">departments</span><span class="p">(</span><span class="n">department_id</span><span class="p">)</span>
<span class="p">);</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">departments</span> <span class="p">(</span><span class="n">department_name</span><span class="p">)</span>
<span class="k">VALUES</span>
    <span class="p">(</span><span class="s1">'Human Resources'</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Engineering'</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Sales'</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Marketing'</span><span class="p">);</span>

<span class="c1">-- Insert data into the employees table</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">employees</span> <span class="p">(</span><span class="n">employee_name</span><span class="p">,</span> <span class="n">department_id</span><span class="p">,</span> <span class="n">manager_id</span><span class="p">)</span>
<span class="k">VALUES</span>
    <span class="p">(</span><span class="s1">'Alice'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Bob'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Charlie'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'David'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Eve'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'Fred'</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'George'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">);</span>  </code></pre></figure>

<h3 id="inner-join">INNER JOIN</h3>

<p>To get an understanding of the inner join, let’s look first at how the employees table is looking. Notice that employee with id 7 does not have a department assigned.</p>

<p><img src="/pictures/joins/employees.png" alt="Employees table" /></p>

<p>The inner join will retrieve the employees whose departmentId has a match in the departments table. Because there’s a foreign key from departmentId in employees to the id of the table departments, you can’t have an employee with a departmentId which does not exist in departments table. So only the employees who have a departmentId will be returned. Employee named George does not have a departmentId, so he will not be part of the result of the <code class="language-plaintext highlighter-rouge">INNER JOIN</code>.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">employees</span><span class="p">.</span><span class="n">employee_name</span><span class="p">,</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_name</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">departments</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">.</span><span class="n">department_id</span> <span class="o">=</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_id</span><span class="p">;</span></code></pre></figure>

<p>And this is the result:</p>

<p><img src="/pictures/joins/innerJoin.png" alt="Employees table" /></p>

<h3 id="left-join">LEFT JOIN</h3>

<p>This will return all rows from the left table, and the matched rows from the right table. If no match is found in the right table, it returns <code class="language-plaintext highlighter-rouge">NULL</code> for columns of the right table.</p>

<p>Employees table looks like:</p>

<p><img src="/pictures/joins/employees.png" alt="Employees table" /></p>

<p>Departments table:</p>

<p><img src="/pictures/joins/departments.png" alt="Departments table" /></p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">employees</span><span class="p">.</span><span class="n">employee_name</span><span class="p">,</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_name</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">departments</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">.</span><span class="n">department_id</span> <span class="o">=</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_id</span><span class="p">;</span></code></pre></figure>

<p>The result looks like below. Notice that in this case George is present, altough for him the department_name is <code class="language-plaintext highlighter-rouge">NULL</code>:</p>

<p><img src="/pictures/joins/leftJoin.png" alt="Left join result" /></p>

<h3 id="right-join">RIGHT JOIN</h3>

<p>The right join will bring only employees with an assigned department (so George will not be present in the result), but also all the departments, even the ones with no employees. So when we did the <code class="language-plaintext highlighter-rouge">LEFT JOIN</code> we saw George was present in the result, even if he isn’t assigned to a department, but we didn’t see the departments with no employees. When we do the <code class="language-plaintext highlighter-rouge">RIGHT JOIN</code> the reverse is happening: employees with no department are not part of the result, instead departments with no employees are present.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">employees</span><span class="p">.</span><span class="n">employee_name</span><span class="p">,</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_name</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">RIGHT</span> <span class="k">JOIN</span> <span class="n">departments</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">.</span><span class="n">department_id</span> <span class="o">=</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_id</span><span class="p">;</span></code></pre></figure>

<p>Result:
<img src="/pictures/joins/rightJoin.png" alt="Left join result" /></p>

<h3 id="full-outer-join">FULL OUTER JOIN</h3>

<p>If we want a <code class="language-plaintext highlighter-rouge">RIGHT JOIN</code> combined with a <code class="language-plaintext highlighter-rouge">LEFT JOIN</code> we need a <code class="language-plaintext highlighter-rouge">FULL OUTER JOIN</code>, meaning this type of <code class="language-plaintext highlighter-rouge">JOIN</code> will retrieve all employees (the ones with no department assigned included) and all departments (even the ones with no employees).</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">employees</span><span class="p">.</span><span class="n">employee_name</span><span class="p">,</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_name</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">FULL</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">departments</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">.</span><span class="n">department_id</span> <span class="o">=</span> <span class="n">departments</span><span class="p">.</span><span class="n">department_id</span><span class="p">;</span></code></pre></figure>

<p><img src="/pictures/joins/fullOuterJoin.png" alt="Full outer join result" /></p>

<h3 id="self-join">SELF JOIN</h3>

<p>Last, but not least is a <code class="language-plaintext highlighter-rouge">join</code> of the table employees done with itself, which is known as a self join.</p>

<p>Basically inside the employees table, there’s a manager_id column. This contain the id of the employee which is also the manager of that employee. 
<img src="/pictures/joins/employees.png" alt="Employees table" /></p>

<p>As we can see in the result below, it returns all the employees (because it’s a left join and employees is the left table), with or without a manager assigned.</p>

<p><img src="/pictures/joins/selfLeftJoin.png" alt="Self join" /></p>

<p>And that’s it for my first post.</p>

  </div><a class="u-url" href="/sql/basic/2024/07/30/left-join-right-join-self-join.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Java Interview Questions</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Java Interview Questions</li><li><a class="u-email" href="mailto:notyet@gmail.com">notyet@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/objectivepinta"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">objectivepinta</span></a></li><li><a href="https://www.twitter.com/objectivepinta"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">objectivepinta</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Blog to refresh some basic topics</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
